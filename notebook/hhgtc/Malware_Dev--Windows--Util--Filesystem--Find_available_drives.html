<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Find available drives</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Find Available Drives</h1></strong><br />â€¢ <a href="https://stackoverflow.com/questions/286534/enumerating-all-available-drive-letters-in-windows">https://stackoverflow.com/questions/286534/enumerating-all-available-drive-letters-in-windows</a><br /><br /><strong><h2>## GetLogicalDriveStringsA</h2></strong><br /><div class="codebox"><div class="codebox">char*&nbsp;drives&nbsp;=&nbsp;malloc(512);<br />DWORD&nbsp;drives_len&nbsp;=&nbsp;0;<br />DWORD&nbsp;total_drives&nbsp;=&nbsp;0;<br /><br />drives_len&nbsp;=&nbsp;GetLogicalDriveStringsA(511,&nbsp;drives);<br />if&nbsp;(drives_len&nbsp;==&nbsp;0)<br />	return&nbsp;NULL;<br /><br />char*&nbsp;drive&nbsp;=&nbsp;drives;<br />while&nbsp;(*drive)<br />{<br />	printf(&quot;%s&nbsp;\n&quot;,&nbsp;drive);<br />	drive&nbsp;+=&nbsp;strlen(drive)&nbsp;+&nbsp;1;<br />	total_drives&nbsp;+=&nbsp;1;<br />}<br /><br />free(drives);</div></div></div>
</body>
</html>
