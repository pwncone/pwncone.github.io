<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Step 2. Bootloader</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Linux - Boot Process - Bootloader</h1></strong><br />The boot loader is responsible for loading the kernel into RAM.<br />It then transfers control to the kernel, in order for it run init/startup scripts.<br /><br />Available Linux bootloaders include:<br />   ◇ GRUB<br />   ◇ LILO<br />   ◇ efilinux<br />   ◇ coreboot<br />   ◇ SYSLINUX<br /><br /><strong><h2>## GRUB - GRand Unified Boot Loader</h2></strong><br />• GRUB is the most common Linux bootloader<br />• Can be used with both BIOS and UEFI (but mainly UEFI)<br />• GRUB/a bootloader&#39;s job is to load the kernel into RAM<br />• GRUB knows where to find the kernel by reading the kernel parameters<br /><br />Common Kernel parameters:<br />   ◇ <code>initrd</code> - Specifies the location of initial RAM disk<br />   ◇ <code>BOOT_IMAGE</code>  - where the kernel image is located<br />   ◇ <code>root</code> - The location of the root filesystem<br />      ▪ The kernel searches inside this location to find init. <br />      ▪ Often represented by it&#39;s UUID or the device name (such as /dev/sda1)<br />   ◇ <code>ro</code> - This parameter mounts the fileystem as read-only mode.<br />   ◇ <code>quiet</code> - Hides display messages being printed in the background during boot.<br />   ◇ <code>splash</code> - shows the boot splash screen<br /><br /><strong><h3>### UEFI and GRUB</h3></strong><br />It&#39;s seriously recommended with UEFI booting to use a GPT partition table<br /><br /><strong>UEFI/GPT with GRUB</strong><br />• GRUB is stored in the EFI System Partition (ESP)<br />• The ESP should be FAT32 and recommended 550MiB<br />• Mount the ESP to /dev/sda[disk-number]/boot/efi<br /><br /><strong><h3>### BIOS and GRUB</h3></strong><br /><strong>BIOS/MBR with GRUB</strong><br />•  GRUB&#39;s &#39;core.img&#39; gets stored after the MBR (after the first 512 bytes on disk) and before the first parition<br />•  Normally this gap is 31 KiB- <br />   ◇  for GRUB you should leave 1-2 MiB<br /><br /><strong>BIOS/GPT with GRUB</strong><br />•  BIOS/GPT with GRUB requires a BIOS boot partition<br />• &quot;Create a mebibyte partition (+1M with fdisk or gdisk) on the disk with no file system and with partition type GUID 21686148-6449-6E6F-744E-656564454649.&quot;<br />◇ above is from here - <a href="https://wiki.archlinux.org/index.php/GRUB#GUID_Partition_Table_.28GPT.29_specific_instructions">https://wiki.archlinux.org/index.php/GRUB#GUID_Partition_Table_.28GPT.29_specific_instructions</a></div>
</body>
</html>
