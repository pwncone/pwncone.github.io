<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Debug output on Windows</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Debug output on Windows</h1></strong><br /><br /><strong><h2>## DgbView</h2></strong><br />You will have to enable to DbgView output first<br />• <a href="https://stackoverflow.com/questions/12494300/no-output-from-debugview">https://stackoverflow.com/questions/12494300/no-output-from-debugview</a><br /><br />To print to DbgView with userland APIs you use <code>OutputDebugString</code><br />So that you can use formatted strings, create a macro<br />• <a href="https://stackoverflow.com/questions/29049686/is-there-a-better-way-to-pass-formatted-output-to-outputdebugstring">https://stackoverflow.com/questions/29049686/is-there-a-better-way-to-pass-formatted-output-to-outputdebugstring</a><br /><div class="codebox"><div class="codebox">#define&nbsp;DbgViewPrint(...)&nbsp;{char&nbsp;str[512];&nbsp;sprintf_s(str,&nbsp;512,&nbsp;__VA_ARGS__);&nbsp;&nbsp;OutputDebugStringA(str);}<br />DbgViewPrint(&quot;[smile]&nbsp;found&nbsp;DOS&nbsp;header&nbsp;@&nbsp;0x%p&nbsp;=&nbsp;0x%x&quot;,&nbsp;(LPVOID)current_address,&nbsp;dos_header-&gt;e_magic);</div></div><br /><br />My version:<br />Will only run if compiled in Debug mode <br />and prepends a filter to the output for ease of use in DebugView.<br /><div class="codebox"><div class="codebox">#if&nbsp;_DEBUG<br />#define&nbsp;DBG_FILTER&nbsp;&quot;[yo]&nbsp;&quot;<br />#define&nbsp;Dbg(...)&nbsp;{&nbsp;char&nbsp;str[512]&nbsp;=&nbsp;DBG_FILTER;&nbsp;sprintf_s(str&nbsp;+&nbsp;strlen(DBG_FILTER),&nbsp;512,&nbsp;__VA_ARGS__);&nbsp;OutputDebugStringA(str);&nbsp;}<br />#else<br />#define&nbsp;Dbg(...)<br />#endif<br /><br />Dbg(&quot;hello&nbsp;world!&nbsp;day&nbsp;%d&nbsp;\n&quot;,&nbsp;12);</div></div><br /><br />VERSION 2 USE THIS PLEASE.<br />GET STACK CORRUPTION ON THE str VARIABLE WITH THE VERSION ABOVE.<br />LEFT FOR RECORDS PURPOSES.<br /><div class="codebox"><div class="codebox">/*<br />OutputDebugString&nbsp;will&nbsp;print&nbsp;to&nbsp;the&nbsp;debugger&nbsp;if&nbsp;available.<br />If&nbsp;not,&nbsp;it&nbsp;will&nbsp;print&nbsp;globally&nbsp;(to&nbsp;DebugView).<br /><br />In&nbsp;Visual&nbsp;Studio,&nbsp;runnign&nbsp;with&nbsp;F5&nbsp;will&nbsp;always&nbsp;spawn&nbsp;a&nbsp;debugger&nbsp;therefore&nbsp;you&nbsp;wont&nbsp;see&nbsp;your&nbsp;strings&nbsp;in&nbsp;DebgView.<br />Run&nbsp;your&nbsp;prog&nbsp;outside&nbsp;of&nbsp;Visual&nbsp;Studio,&nbsp;or&nbsp;use&nbsp;Ctrl&nbsp;+&nbsp;F5.<br />*/<br /><br />#include&nbsp;&lt;stdio.h&gt;<br />#include&nbsp;&lt;Windows.h&gt;<br /><br />#if&nbsp;_DEBUG<br />#define&nbsp;DBG_FILTER&nbsp;&quot;[yo]&nbsp;&quot;<br />#define&nbsp;Dbg(...)&nbsp;{&nbsp;char&nbsp;str[512]&nbsp;=&nbsp;DBG_FILTER;&nbsp;sprintf_s(str&nbsp;+&nbsp;strlen(str),&nbsp;512&nbsp;-&nbsp;strlen(DBG_FILTER),&nbsp;__VA_ARGS__);&nbsp;OutputDebugStringA(str);&nbsp;}<br />#else<br />#define&nbsp;Dbg(...)<br />#endif<br /><br />int&nbsp;main()<br /><span style="color:#000000;font-weight:400">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;Dbg(&quot;*&nbsp;WHY&nbsp;HELLO&nbsp;THERE&nbsp;FROM&nbsp;%d&nbsp;x&nbsp;%d&nbsp;\n&quot;,&nbsp;1280,&nbsp;720);<br />&nbsp;&nbsp;&nbsp;&nbsp;Dbg(&quot;*&nbsp;OMEGALUL&nbsp;\n&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;Dbg(&quot;*&nbsp;STILL&nbsp;HERE&nbsp;\n&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;Dbg(&quot;*&nbsp;WORKIGN&nbsp;GOOD?&nbsp;\n&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;Dbg(&quot;*&nbsp;OKAY&nbsp;\n&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;Dbg(&quot;*&nbsp;NICE&nbsp;\n&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;Dbg(&quot;*&nbsp;SHOULD&nbsp;CARRY&nbsp;ON&nbsp;NOW&nbsp;BRUV&nbsp;\n&quot;);<br /><br />	return&nbsp;0;<br /><span style="color:#000000;font-weight:400">}</span></div></div><br /><br /><br /><a href=""><img src="images/1425-1.png" alt="images/1425-1.png" /></a></div>
</body>
</html>
