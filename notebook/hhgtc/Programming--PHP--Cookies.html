<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Cookies</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Cookies</h1></strong><br />Cookies are files stored on the client computer used for tracking purposes.<br />e.g. tracking returning users<br />1. A server script sends identifying information to client&#39;s browser<br />2. Client browser stores info on local computer<br />3. When browser next visits that site, it sends that info the server<br />4. Server uses the sent info to identify the user<br /><br /><strong><h2>## Cookie Anatomy</h2></strong><br />Cookies are usually set in a HTTP header like this:<br /><div class="codebox"><div class="codebox">HTTP/1.1&nbsp;200&nbsp;OK<br />Date:&nbsp;Fri,&nbsp;04&nbsp;Feb&nbsp;2000&nbsp;21:03:38&nbsp;GMT<br />Server:&nbsp;Apache/1.3.9&nbsp;(UNIX)&nbsp;PHP/4.0b3<br />Set-Cookie:&nbsp;name=tutorial_cookie;&nbsp;expires=Friday,&nbsp;04-Feb-07&nbsp;22:03:38&nbsp;GMT;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path=/;&nbsp;domain=tutorialspoint.com<br />Connection:&nbsp;close<br />Content-Type:&nbsp;text/html</div></div><br /><br />When the browser next visits <code>tutorialspoint.com/</code>, it will send the cookie in a header<br /><div class="codebox"><div class="codebox">GET&nbsp;/&nbsp;HTTP/1.0<br />Connection:&nbsp;Keep-Alive<br />User-Agent:&nbsp;Mozilla/4.6&nbsp;(X11;&nbsp;I;&nbsp;Linux&nbsp;2.2.6-15apmac&nbsp;ppc)<br />Host:&nbsp;zink.demon.co.uk:1126<br />Accept:&nbsp;image/gif,&nbsp;*/*<br />Accept-Encoding:&nbsp;gzip<br />Accept-Language:&nbsp;en<br />Accept-Charset:&nbsp;iso-8859-1,*,utf-8<br />Cookie:&nbsp;name=xyz</div></div><br /><br />A PHP script can then access the cookie <br />via environment variables with <code>$_COOKIE</code><br />via <code>$HTTP_COOKIE_VARS[]</code> which holds all the cookie names and values<br />   â—‡ e.g. access &quot;xyz&quot; above using <code>$HTTP_COOKIE_VARS[&quot;name&quot;]</code><br /><br /><strong><h2>## Set Cookies</h2></strong><br />Use <code>setcookie()</code><br />Should be called before <code>&lt;html&gt;</code> tag<br /><div class="codebox"><div class="codebox">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;setcookie(name,&nbsp;value,&nbsp;expire,&nbsp;path,&nbsp;domain,&nbsp;security);<br />&nbsp;&nbsp;&nbsp;&nbsp;setcookie(&quot;age&quot;,&nbsp;&quot;36&quot;,&nbsp;time()+3600,&nbsp;&quot;/&quot;,&nbsp;&quot;&quot;,&nbsp;&nbsp;0);<br />?&gt;<br /><br />&lt;html&gt;<br />&lt;body&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;setting&nbsp;cookies&nbsp;:)&lt;/p&gt;<br />&lt;/body&gt;<br /><span style="color:#000000;font-weight:400">&lt;</span>/html<span style="color:#000000;font-weight:400">&gt;</span></div></div><br /><br /><strong><h2>## Accessing Cookies</h2></strong><br />Both <code>$_COOKIE</code> and <code>$HTTP_COOKIE_VARS</code> are viable<br /><div class="codebox"><div class="codebox"><span style="color:#000000;font-weight:400">&lt;</span>?php<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;$_COOKIE[&quot;name&quot;].&nbsp;&quot;&lt;br&nbsp;/&gt;&quot;;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;$HTTP_COOKIE_VARS[&quot;name&quot;].&nbsp;&quot;&lt;br&nbsp;/&gt;&quot;;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;$_COOKIE[&quot;age&quot;]&nbsp;.&nbsp;&quot;&lt;br&nbsp;/&gt;&quot;;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;$HTTP_COOKIE_VARS[&quot;age&quot;]&nbsp;.&nbsp;&quot;&lt;br&nbsp;/&gt;&quot;;<br />?<span style="color:#000000;font-weight:400">&gt;</span></div></div><br /><br />Use <code>isset()</code> to check if cookie is set<br /><div class="codebox"><div class="codebox"><span style="color:#000000;font-weight:400">&lt;</span>?php<br />&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;isset($_COOKIE[&quot;name&quot;]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;Welcome&nbsp;&quot;&nbsp;.&nbsp;$_COOKIE[&quot;name&quot;]&nbsp;.&nbsp;&quot;&lt;br&nbsp;/&gt;&quot;;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;Sorry...&nbsp;Not&nbsp;recognized&quot;&nbsp;.&nbsp;&quot;&lt;br&nbsp;/&gt;&quot;;<br />?<span style="color:#000000;font-weight:400">&gt;</span></div></div><br /><br /><strong><h2>## Delete Cookies</h2></strong><br />Official way is to call <code>setcookie()</code> with just the name argument.<br />But it doens&#39;t always work.<br /><div class="codebox"><div class="codebox">setcookie(&quot;name&quot;);</div></div><br /><br />Instead, call <code>setcookie()</code> with a data that&#39;s already expired<br /><div class="codebox"><div class="codebox">setcookie(&nbsp;&quot;name&quot;,&nbsp;&quot;&quot;,&nbsp;time()-&nbsp;60,&nbsp;&quot;/&quot;,&quot;&quot;,&nbsp;0);</div></div><br /><br /></div>
</body>
</html>
