<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>CMD</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># CMD</h1></strong><br />Mostly just a list of commands within <code>cmd</code><br /><br /><a href="https://ss64.com/nt/commands.html">https://ss64.com/nt/commands.html</a><br /><br /><strong><h2>## Files</h2></strong><br /><code>del &lt;file&gt;</code> - delete a file<br /><code>md folderName</code> - create a folder<br /><code>dir /a</code> - show hidden files<br /><code>type file.txt</code> - cat files<br /><code>findstr file.txt</code> - grep files<br /><br /><strong><h2>## File Permissions</h2></strong><br />You can check and modify file permissions (Access Control Lists - ACLs) with <code>cacls</code>.<br /><code>calcs</code> - for Windows XP<br /><code>icacls</code> - for Vista and higher<br /><br /><code>/t</code> - tree - search path and include all subfolders<br /><code>/e</code> - edit<br /><code>/p</code> - permissions<br />   ◇ <code>R</code> = read<br />   ◇ <code>W</code> = write<br />   ◇ <code>C</code> = change (write)<br />   ◇ <code>F</code> = full control<br /><br />Give full control to Alfred:<br /><code>cacls &lt;file&gt; /t /e /p Alfred:F</code><br /><br /><strong><h2>## Network</h2></strong><br /><code>netstat -an</code> - show network information<br /><code>ipconfig</code> - show network adapter info<br /><code>ping 192.168.1.101</code> - Ping another machine<br /><code>tracert</code> - traceroute<br /><br /><strong><h2>## Processes</h2></strong><br /><code>tasklist</code> - List processes<br /><code>taskkill /PID 1532 /F</code> - Kill a process<br /><br /><strong><h2>## Users</h2></strong><br /><code>net users</code> - list users<code><br /><br />net user bob p4ssword /add</code> - add a user<code><br />net localgroup Administrator bob /add</code> - add user to Adminstrator group (?)<code><br /><br />net localgroup /domain</code> - check if you are part of a domain<code><br />net users /domain</code> - list all users in a domain<br /><br /><strong><h2>## Mounting Drives</h2></strong><br />In the Windows world, “mounting” is called &quot;mapping&quot;.<br />If you want to see which drives are mapped/mounted to your filesystem, you can use any of these commands.<br /><br /><code>wmic logicaldisk get deviceid, volumename, description</code> - the most thorough method<br /><code>wmic logicaldisk get name</code><br /><code>wmic logicaldisk get caption</code><br /><code>fsutil fsinfo drives</code> - can be slow, don&#39;t kill your shell!<br /><code>diskpart</code> &gt; <code>list volume</code> - interactive, so might not be useful<br /><br /><code>net use</code> - map only network drives (linux equivalent is smbclient)<br /><br /><code>get-psdrive -psprovider filesystem</code> - powershell<br /><br /><strong><h2>## Other</h2></strong><br /><strong><h3>### Run Commands in Background</h3></strong><br />The best equivalent of <code>&amp;</code> from Linux on Windows is - <code>START /B</code><br /><a href="https://superuser.com/questions/198525/how-can-i-execute-a-windows-command-line-in-background">https://superuser.com/questions/198525/how-can-i-execute-a-windows-command-line-in-background</a><br /><br /><strong><h3>### sleep</h3></strong><br />There&#39;s no <code>sleep</code> command.<br />Workarounds:<br /><div class="codebox"><div class="codebox">::&nbsp;sleep&nbsp;for&nbsp;5&nbsp;seconds<br />ping&nbsp;-n&nbsp;6&nbsp;127.0.0.1&nbsp;&gt;&nbsp;nul<br /><br />::&nbsp;sleep&nbsp;for&nbsp;anywhere&nbsp;between&nbsp;4-5&nbsp;seconds<br />timeout&nbsp;5&nbsp;&gt;&nbsp;nul</div></div><br /><br /><strong><h3>### echo newline</h3></strong><br />There are a few ways to <code>echo</code> a newline character into a file:<br /><code>echo[<br />echo<br />echo.</code><br /><br /><code>echo[ &gt;&gt; backup-python.cmd</code><br /><br /><strong><h3>### List Admins</h3></strong><br /><a href="https://stackoverflow.com/a/17803989">https://stackoverflow.com/a/17803989</a><br />Works on Windows Vista+<br />Will find users running elevated / part of Administrators group / part of Domain Admins group<br /><div class="codebox"><div class="codebox">whoami&nbsp;/groups&nbsp;|&nbsp;find&nbsp;&quot;S-1-16-12288&quot;&nbsp;&gt;&nbsp;nul&nbsp;|&nbsp;if&nbsp;%errorlevel%&nbsp;==&nbsp;0&nbsp;(echo&nbsp;%USERNAME%\%USERDOMAIN%_Admin)&nbsp;else&nbsp;(echo&nbsp;%USERNAME%\%USERDOMAIN%_User)</div></div></div>
</body>
</html>
