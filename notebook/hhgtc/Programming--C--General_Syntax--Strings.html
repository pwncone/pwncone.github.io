<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Strings</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Strings</h1></strong><br />Strings in C are an array of characters terminated by a null character - <code>&#39;\0&#39;</code> - to signify the end of the string.<br /><br /><strong><h2>## Declare &amp; Intialise</h2></strong><br /><div class="codebox"><div class="codebox">//&nbsp;POINTER&nbsp;TO&nbsp;STRING&nbsp;-&nbsp;can&nbsp;only&nbsp;be&nbsp;read<br />char&nbsp;*name&nbsp;=&nbsp;&quot;John&nbsp;Smith&quot;;<br /><br />//&nbsp;CHAR&nbsp;ARRAY&nbsp;-&nbsp;can&nbsp;be&nbsp;manipulated<br />//&nbsp;[]&nbsp;-&nbsp;empty&nbsp;brackets&nbsp;tell&nbsp;the&nbsp;compiler&nbsp;to&nbsp;calculate&nbsp;the&nbsp;size&nbsp;automatically<br />char&nbsp;name[]&nbsp;=&nbsp;&quot;John&nbsp;Smith&quot;;<br />//&nbsp;[11]&nbsp;-&nbsp;specify&nbsp;a&nbsp;string&nbsp;length&nbsp;of&nbsp;11.&nbsp;need&nbsp;+1&nbsp;for&nbsp;added&nbsp;null&nbsp;byte<br />char&nbsp;name[11]&nbsp;=&nbsp;&quot;John&nbsp;Smith&quot;;<br /></div></div><br /><br />In memory a string will look like this:<br /><code>char greeting[] = &quot;Hello&quot;;</code><br /><a href=""><img src="images/1388-1.png" alt="images/1388-1.png" /></a><br /><br /><strong><h2>## String length</h2></strong><br /><code>strlen()</code><br />Returns length of string as <code>int</code><br /><div class="codebox"><div class="codebox">char&nbsp;*name&nbsp;=&nbsp;&quot;Bob&quot;;<br />int&nbsp;name_length&nbsp;=&nbsp;strlen(name);</div></div><br /><br /><strong><h2>## Compare strings</h2></strong><br /><code>strcmp</code> is unsafe (don&#39;t know why).<br />Use <code>strncmp</code>.<br />For case-insensitive string comparison - use <code>strncasecmp</code>.<br />or <code>_stricmp</code> on Windows.<br /><br /><a href="http://man7.org/linux/man-pages/man3/strcmp.3.html">http://man7.org/linux/man-pages/man3/strcmp.3.html</a><br /><br />Returns 0 if equal.<br /><div class="codebox"><div class="codebox">char&nbsp;*name&nbsp;=&nbsp;&quot;John&quot;;<br /><br />if&nbsp;(strncmp(name,&nbsp;&quot;John&quot;)&nbsp;==&nbsp;0)<br /><span style="color:#000000;font-weight:400">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;Hello&nbsp;john!&nbsp;\n&quot;);<br /><span style="color:#000000;font-weight:400">}</span></div></div><br /><br /><strong><h2>## Find substring in string</h2></strong><br /><code>strstr</code> - <a href="http://man7.org/linux/man-pages/man3/strstr.3.html">http://man7.org/linux/man-pages/man3/strstr.3.html</a><br />Returns pointer to start of substring, or NULL if not found.<br /><br /><div class="codebox"><div class="codebox">char&nbsp;*name&nbsp;=&nbsp;&quot;Tim&nbsp;&#39;timmy&#39;&nbsp;Toucan&quot;;<br /><br />if&nbsp;(strstr(&quot;timmy&quot;,&nbsp;name)&nbsp;!=&nbsp;NULL)<br /><span style="color:#000000;font-weight:400">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;Found&nbsp;timmy!&nbsp;\n&quot;);<br /><span style="color:#000000;font-weight:400">}</span></div></div><br /><br /><strong><h2>## Concatenate strings</h2></strong><br /><code>strncat</code> - appends N characters to string.<br />Returns a pointer to the resulting string destination.<br /><a href="http://man7.org/linux/man-pages/man3/strcat.3.html#RETURN_VALUE">http://man7.org/linux/man-pages/man3/strcat.3.html#RETURN_VALUE</a><br /><br /><div class="codebox"><div class="codebox">char&nbsp;string1[]&nbsp;=&nbsp;&quot;Hello&quot;;<br />char&nbsp;string2[]&nbsp;=&nbsp;&quot;world&quot;;<br /><br />//&nbsp;append&nbsp;string2&nbsp;to&nbsp;string1<br />strncat(string1,&nbsp;string2,&nbsp;strlen(string2));<br /><br />printf(&quot;string1:&nbsp;%s&nbsp;\n&quot;,&nbsp;string1);</div></div><br /><br /><br /><strong><h2>## Loop through char array of strings</h2></strong><br />Some functions like <code>GetLogicalDriveStrings</code> return a large buffer of strings separated by NULL bytes.<br />They can be a pain to loop through.<br /><br /><div class="codebox"><div class="codebox">/*<br />drives_buf&nbsp;contains&nbsp;an&nbsp;array&nbsp;of&nbsp;char&nbsp;strings,&nbsp;like&nbsp;this:&nbsp;(it&#39;s&nbsp;&quot;C:\&quot;&nbsp;and&nbsp;&quot;D:\&quot;)<br />43&nbsp;3a&nbsp;5c&nbsp;00&nbsp;44&nbsp;3a&nbsp;5c&nbsp;00&nbsp;00<br />*/<br />char*&nbsp;drive&nbsp;=&nbsp;drives_buf;<br />while&nbsp;(*drive&nbsp;!=&nbsp;0)<br /><span style="color:#000000;font-weight:400">{</span><br />	printf(&quot;%s&nbsp;\n&quot;,&nbsp;drive);<br />	drive&nbsp;+=&nbsp;strlen(drive)&nbsp;+&nbsp;1;<br /><span style="color:#000000;font-weight:400">}</span></div></div></div>
</body>
</html>
