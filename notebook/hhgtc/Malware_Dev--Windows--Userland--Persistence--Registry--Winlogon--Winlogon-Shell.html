<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Winlogon\Shell</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Winlogon\Shell</h1></strong><br />â€¢ <a href="https://pentestlab.blog/tag/userinit/">https://pentestlab.blog/tag/userinit/</a><br /><br /><code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon\Shell</code><br />Shell runs during Windows authentication<br /><br />For this method to work, you have to drop the binary to execute into <code>C:\Windows\system32</code><br />When I tried running a binary from the desktop - <code>C:\Users\Bob\Desktop\hello_world.exe</code> - explorer.exe didn&#39;t load and I got a black screen. My binary ran, but the Windows didn&#39;t draw the desktop properly.<br /><br /><a href=""><img src="images/1732-1.png" alt="images/1732-1.png" /></a><br /><br /><strong><h2>## Code</h2></strong><br />For code, refer to <code>Winlogon\Userinit</code>. It&#39;ll be very similar.</div>
</body>
</html>
