<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>SEH</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Windows - Protections - SEH</h1></strong><br />SEH stands for Strucured Exception Handling.<br />SEH is a Microsoft-built extension to C to handle exceptions (errors, usually), made available through compiler support. For example, the Microsoft C/C++ Optimizing Compiler supports the <code>__try</code>, <code>__except</code>, and <code>__finally</code> keywords.<br /><br />An exception is an event that occurs during the execution of a program, and requires the execution of code outside the normal flow of control (error handling, usually).<br /><br />There are two kinds of exceptions: <br />• hardware exceptions<br />• software exceptions<br /><br />Hardware exceptions are initiated by the CPU, like divide by 0 errors or an attempt to access an invalid memory address. <br />Software exceptions are initiated explicitly by applications or the operating system, like an invalid parameter value being used.<br /><br /><strong><h2>## How SEH Works</h2></strong><br />When an exception is raised, the exception type gets identified and is searched for in a list of exception handlers (exception handlers detail what to do about the exception). <br /><br />On the stack, the Exception Handlers are a linked list (close to the bottom of the stack).<br />Each node in the linked list contains:<br />• a pointer to the next SE Handler [nSEH]<br />• a pointer to the current SEH Record [SEH]<br /><br />When an exception occurs, Windows retrieves the head of the SEH chain and walks through the list, trying to find the correct Exception Handler for the exception type.<br /><br />If the Exception Record doesn&#39;t match the exception type, it will use the nSEH pointer to jump to the next SE Handler, and so on and so on.<br /></div>
</body>
</html>
