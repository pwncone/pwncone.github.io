<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Upstart</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Linux - Init - Upstart</h1></strong><br />• Upstart was developed by Canonical<br />   ◇ It used to be default init implementation on Ubuntu, but now systemd is used<br />• Upstart was created to improve upon the issues with Sys V<br />   ◇ like the strict startup processes<br />   ◇ blocking of tasks<br />   ◇ etc. <br />• Upstart uses an event and job driven model<br />   ◇ This allows it to respond to events as they happen<br />• If you have a <code>/usr/share/upstart</code> directory, you&#39;re most likely using upstart<br /><br /><strong><h2>## Upstart Jobs &amp; Events</h2></strong><br />• Jobs are the actions that Upstart performs<br />• Events are messages that are received from other processes to trigger jobs<br /><br /><code>ls /etc/init</code> - list jobs and their configuration<br /><div class="codebox"><div class="codebox">pete@icebox:~$&nbsp;ls&nbsp;/etc/init<br />acpid.conf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mountnfs.sh.conf<br />alsa-restore.conf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtab.sh.conf<br />alsa-state.conf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;networking.conf<br />alsa-store.conf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;network-interface.conf<br />anacron.conf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;network-interface-container.conf</div></div><br /><br />• Inside these job configurations is information on <em>how and when</em> to start jobs<br /><div class="codebox"><div class="codebox">pete@icebox:~$&nbsp;cat&nbsp;networking.conf<br />[...]<br />start&nbsp;on&nbsp;runlevel&nbsp;[235]<br />stop&nbsp;on&nbsp;runlevel&nbsp;[0]</div></div><br />   ◇ This sets up networking on runlevel 2, 3 or 5<br />   ◇ And stops networking on runlevel 0<br /><br /><strong><h2>## How Upstart Works</h2></strong><br />1. First, it loads up the job configurations from <code>/etc/init</code><br />2. Once a startup event occurs, it will run the jobs triggered by that event<br />3. These jobs make new events, and those events then trigger more jobs<br />4. Upstart continues to do this until it completes all the necessary jobs<br /><br /><strong><h2>## Upstart Commands</h2></strong><br /><code>initctl list</code> - view upstart jobs<br />    Output syntax = <code>&lt;job name&gt; &lt;job goal&gt;/&lt;job status&gt;</code><br /><br /><code>initctl status networking</code> - view specific job<br /><br /><code>sudo initctl start networking</code> - manually start a job<br /><code>sudo initctl stop networking</code> - manually stop a job<br /><code>sudo initctl restart networking</code> - manually restart a job<br /><code>sudo initctl emit some_event</code> - manually emit an event</div>
</body>
</html>
