<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Cached Credentials</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Cached Credentials</h1></strong><br /><a href="http://juggernaut.wikidot.com/cached-credentials">http://juggernaut.wikidot.com/cached-credentials</a><br /><br />Network authentication against Domain Controllers gets cached in the DC&#39;s LSASS process.<br /><br />By default, LSASS will store the last 10 domain login credentials.<br />This can be changed by:<br />• Group Policy,<br />• or a registry key: <code>HKEY_LOCAL_MACHINE\SOFTWARE\MICROSOFT\WINDOWS NT\ CURRENTVERSION\WINLOGON\CACHEDLOGONSCOUNT</code><br /><br />The <code>SYSTEM</code> user is the only user that has privileges to view these credentials.<br /><br />Cached credentials can be found in the registry here:<br /><code>HKEY_LOCAL_MACHINE\SECURITY\Cache</code><br /><br /><strong><h2>## Mimikatz</h2></strong><br />Grab cached credentials with mimikatz:<br /><code>lsadump::cache</code><br /><br /></div>
</body>
</html>
