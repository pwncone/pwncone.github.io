<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Intrinsics</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Compiler Intrinsics</h1></strong><br />â€¢ <a href="https://docs.microsoft.com/en-us/cpp/intrinsics/compiler-intrinsics?view=msvc-160">https://docs.microsoft.com/en-us/cpp/intrinsics/compiler-intrinsics?view=msvc-160</a><br /><br />Instrinsics are functions that are intrinsic to the compiler - they&#39;re built in.<br />I&#39;m keeping a useful list.<br /><br /><strong><h2>## _ReturnAddress</h2></strong><br /><code>_ReturnAddress</code> <br /><a href="https://docs.microsoft.com/en-us/cpp/intrinsics/returnaddress?view=msvc-160">https://docs.microsoft.com/en-us/cpp/intrinsics/returnaddress?view=msvc-160</a><br />Returns the address of the next instruction in the function that called <code>_ReturnAddress</code> <br />i.e. get memory address of next instruction / get your current location in memory<br />Compiler optimisations mess with the address.<br />You should use the <code>__declspec(noline)</code> example on MSDN<br /><br /><div class="codebox"><div class="codebox">__declspec(noinline)&nbsp;LPVOID&nbsp;noinline_GetCurrentAddress(void)<br /><span style="color:#000000;font-weight:400">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(LPVOID)_ReturnAddress();<br /><span style="color:#000000;font-weight:400">}</span></div></div><br /><br /><strong><h2>## __readgsqword</h2></strong><br /><code>__readgsqword</code><br />Read GS register<br /><br /><strong><h2>## __readfsdword</h2></strong><br /><code>__readfsdword</code><br />Read FS register</div>
</body>
</html>
