<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>File I/O</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># File I/O</h1></strong><br />Files are just a sequence of bytes.<br /><br /><strong>Modes</strong><br /><code>r</code> - read mode<br /><code>w</code> - write mode - will create file if doesn&#39;t exist <br /><code>a</code> - append mode - will create file if doens&#39;t exist<br /><code>r+</code> - read &amp; write mode<br /><code>w+</code> - read &amp; write mode - will create file if doens&#39;t exist - if exists will truncate file to 0<br /><br />For binary files, need to read bytes - <code>b</code><br /><code>rb</code><br /><code>wb</code><br />etc.<br /><br /><div class="codebox"><div class="codebox">#include&nbsp;&lt;stdio.h&gt;<br />#include&nbsp;&lt;stdlib.h&gt;<br /><br />int&nbsp;main()&nbsp;<br /><span style="color:#000000;font-weight:400">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;OPEN&nbsp;FILE<br />&nbsp;&nbsp;&nbsp;&nbsp;FILE&nbsp;*muh_file&nbsp;=&nbsp;fopen(&quot;writetome.txt&quot;,&nbsp;&quot;w+&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(muh_file&nbsp;==&nbsp;NULL)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;perror(&quot;[error]&nbsp;&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(EXIT_FAILURE);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;WRITE<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;---------------------------------------<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;write&nbsp;string<br />&nbsp;&nbsp;&nbsp;&nbsp;fprintf(muh_file,&nbsp;&quot;%s&quot;,&nbsp;&quot;write&nbsp;with&nbsp;fprintf()&nbsp;\n&quot;);&nbsp;&nbsp;&nbsp;//&nbsp;fprintf()&nbsp;allows&nbsp;for&nbsp;formatting<br />&nbsp;&nbsp;&nbsp;&nbsp;fputs(&quot;write&nbsp;with&nbsp;fputs()&nbsp;\n&quot;,&nbsp;muh_file);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;fputs()&nbsp;just&nbsp;writes&nbsp;a&nbsp;string<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;write&nbsp;int<br />&nbsp;&nbsp;&nbsp;&nbsp;fprintf(muh_file,&nbsp;&quot;%d&nbsp;\n&quot;,&nbsp;12);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;write&nbsp;char<br />&nbsp;&nbsp;&nbsp;&nbsp;fputc(&#39;d&#39;,&nbsp;muh_file);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;READ<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;---------------------------------------<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;read&nbsp;string<br />&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;file_read[255];<br />&nbsp;&nbsp;&nbsp;&nbsp;fgets(file_read,&nbsp;sizeof(file_read),&nbsp;muh_file);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;fgets()&nbsp;reads&nbsp;until&nbsp;newline<br />&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;file_read2[255];<br />&nbsp;&nbsp;&nbsp;&nbsp;fscanf(muh_file,&nbsp;&quot;%s&quot;,&nbsp;&amp;file_read2);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;fscanf()&nbsp;reads&nbsp;until&nbsp;space<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;CLOSE<br />&nbsp;&nbsp;&nbsp;&nbsp;fclose(muh_file);<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;<br /><span style="color:#000000;font-weight:400">}</span></div></div><br /><br /><strong><h3>### Loop through file</h3></strong><br /><div class="codebox"><div class="codebox">FILE&nbsp;*muh_file&nbsp;=&nbsp;fopen(&quot;hey.txt&quot;,&nbsp;&quot;r&quot;);<br />char&nbsp;line[1024];<br /><br />//&nbsp;Read&nbsp;lines&nbsp;until&nbsp;no&nbsp;more&nbsp;lines&nbsp;to&nbsp;read<br />while&nbsp;(fgets(line,&nbsp;sizeof(line),&nbsp;muh_file)&nbsp;!=&nbsp;NULL)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;%s&nbsp;\n&quot;,&nbsp;line);&nbsp;&nbsp;&nbsp;//&nbsp;remove&nbsp;newline&nbsp;character&nbsp;from&nbsp;string<br />}<br /><br />fclose(muhWordlist);</div></div><br /><br /><strong><h2>## Binary files</h2></strong><br />Reading and writing binary files requires different functions - <code>fread()</code> and <code>fwrite()</code> - google that shit.<br /></div>
</body>
</html>
