<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>LZ77 & LZ78</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># LZ77 and LZ78</h1></strong><br /><a href="https://en.wikipedia.org/wiki/LZ77_and_LZ78">https://en.wikipedia.org/wiki/LZ77_and_LZ78</a><br /><br />Lossless algorithms published in 1977 and 1978.<br />The algorithms formed the basis of other compression schemes:<br />• GIF<br />• DEFLATE (used in PNG and ZIP)<br /><br />They&#39;re dictionary coders.<br />LZ77 is a sliding dictionary compression algorithm.<br />LZ78 is an explicit dictionary (apparently the same as LZ77&#39;s sliding dictionary)<br /><br />The principle is to store repeated byte sequences as references to previous occurences of the same byte sequence.<br />Providing the sequence is long enough, the reference to the sequence will be shorter and the data will be compressed to a smaller size.<br />e.g. if the minimum length of a reference is 3 bytes, then a byte sequence must be 4 bytes or longer to be successfully compressed to a smaller size<br /><br />References are stored as a <code>length-distance</code> pair.<br />e.g. a matching byte sequence <code>10 bytes in length</code> is <code>250 bytes distance</code> away<br /><br />To differentiate between encoded byte sequences and literal byte sequences, a marker byte is placed at the start of the <code>length-distance</code> pair <br />The byte that will be used as the marker byte will be the least common byte found in the data stream.<br /><br />To find matching byte sequences, the encoder needs to store recent data<br />e.g. 2kb, 4kb, 32kb, etc. of data<br />The structure in which this data is stored is called a <em>sliding window</em><br />(this is why LZ77 is known as a sliding-window compression algorithm)<br />The sliding window can make compression slow because you&#39;re only looking at so many bytes at once.<br /><br /><br /><strong>Examples</strong><br />• <a href="https://gist.github.com/fogus/5401265">https://gist.github.com/fogus/5401265</a><br />• <a href="https://c64preservation.com/svn/nibtools/trunk/lz.c">https://c64preservation.com/svn/nibtools/trunk/lz.c</a> - Marcus Geelnard LZ77 implementation<br />   ◇ <a href="https://github.com/fail0verflow/hbc/blob/master/channel/banner/tools/lz77.c">https://github.com/fail0verflow/hbc/blob/master/channel/banner/tools/lz77.c</a> - Marcus Geelnard&#39;s implementation used in the Wii modding scene&#39;s <em>The Homebew Channel</em><br />• <a href="https://github.com/antoniomacri/lz77ppm">https://github.com/antoniomacri/lz77ppm</a> - has good explanation of how it works in README</div>
</body>
</html>
