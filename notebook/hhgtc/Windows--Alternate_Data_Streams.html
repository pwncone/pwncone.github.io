<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Alternate Data Streams</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
</head>
<body>
<div class='page'><strong><h1># Alternate Data Streams (ADS)</h1></strong><br />Sometimes people hide stuff in Alternate Data Streams.<br /><br /><strong>Links</strong><br />• https://blogs.technet.microsoft.com/askcore/2013/03/24/alternate-data-streams-in-ntfs/<br /><br /><strong><h2>## What are Alternate Data Streams?</h2></strong><br />Alternate Data Streams are an NTFS only thing.<br />Files are divided up into attributes.<br />One attribute is <code>$DATA</code> -this is the normal/primary data stream. More accurately, it should be called the ‘unamed data stream’.<br />   ◇ e.g. You have a text file containing “This is my text”<br />   ◇ If you read the $DATA stream, this is where you&#39;ll find “This is my text”<br /><br />If someone creates a named data stream within a file e.g. <code>hm.txt</code>, then <code>hm.txt</code> now has an Alternate Data Steam. To access this alternate data stream within a file, you need a different method than just opening notepad.<br /><br /><strong><h2>## Viewing/Reading Alternate Data Streams</h2></strong><br />There are 2 ways to view Alternate Data Steams:<br />• CMD&#39;s <code>streams.exe</code> binary<br />• PowerShell<br />   ◇ much more effective<br /><br /><strong><h3>### PowerShell</h3></strong><br />View Alternate Data Streams with <code>Get-item</code> and the <code>-stream</code> flag.<br /><div class="codebox"><div class="codebox">PS&nbsp;C:\Users\Administrator\Desktop&gt;&nbsp;Get-item&nbsp;-Path&nbsp;C:\Users\Administrator\Desktop\hm.txt&nbsp;-stream&nbsp;*<br /><br />FileName:&nbsp;C:\Users\Administrator\Desktop\hm.txt<br /><br />Stream&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Length<br />------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;------<br />:$DATA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36<br />root.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34</div></div><br /><br />Read alternate data streams with <code>Get-Content</code> and <code>-Stream &lt;stream&gt;</code><br /><div class="codebox"><div class="codebox">PS&nbsp;C:\Users\Administrator\Desktop&gt;&nbsp;Get-Content&nbsp;-Path&nbsp;C:\Users\Administrator\Desktop\hm.txt&nbsp;-Stream&nbsp;root.txt<br />afbc5bd4b615a60648cec41c6ac92530</div></div><br /><br /></div>
</body>
</html>
